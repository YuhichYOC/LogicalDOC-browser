{% if 'png' == i.type or 'jpg' == i.type %}
<div class="row d-flex flex-fill justify-content-center my-1">
    <img src="{{ i.content }}" alt="{{ i.name }}">
</div>
{% elif 'pdf' == i.type %}
<div class="row d-flex flex-fill justify-content-center my-1">
<span>
    <input type="button" class="resize-font-xxl" value="Previous" onclick="pageFeed(pageNumber - 1);">
    <input type="button" class="resize-font-xxl" value="Next" onclick="pageFeed(pageNumber + 1);">
</span>
    <canvas id="pdf-canvas" class="col-12" style="border: solid black 1px;"></canvas>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.min.js"></script>
<script type="text/javascript">
    {% load static %}
    let p;
    let pageNumber;
    const url = "{% static i.content %}";
    const pdfjsLib = window['pdfjs-dist/build/pdf'];
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.worker.min.js';
    const loadingTask = pdfjsLib.getDocument(url);
    loadingTask.promise.then(function (pdf) {
        p = pdf;
        pageNumber = {{ i.page }};
        pageFeed(pageNumber);
    });

    function pageFeed(i) {
        pageNumber = 1 > i ? 1 : i;
        pageNumber = p._pdfInfo.numPages < i ? p._pdfInfo.numPages : pageNumber;
        p.getPage(pageNumber).then(function (page) {
            const viewport = page.getViewport({scale: 1});
            const canvas = document.getElementById('pdf-canvas');
            const context = canvas.getContext('2d');
            canvas.height = viewport.height;
            canvas.width = viewport.width;
            const renderContext = {
                canvasContext: context,
                viewport: viewport
            };
            page.render(renderContext);
        });
    }
</script>
{% elif 'txt' == i.type %}
<div class="row d-flex flex-fill justify-content-center my-1">
    <label for="{{ i.id }}">{{ i.name }}</label>
    <textarea id="{{ i.id }}" rows="28">{{ i.content }}</textarea>
</div>
{% elif 'mp4' == i.type or 'm4a' == i.type or 'mp3' == i.type %}
<div class="row d-flex flex-fill justify-content-center my-1">
    <video controls style="width: 100%">
        {% load static %}
        <source src={% static i.content %}>
    </video>
</div>
{% else %}
{% endif %}